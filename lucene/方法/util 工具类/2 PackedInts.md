# 1 PackedInts

用于 int类型的数组压缩。无符号长值数组的简单压缩。每个值都是>=0，并且<=指定的最大值。这些值存储为压缩整数，每个值消耗固定数量的位。



# 2 压缩原理

我们在存储数组类型时，使用的long和int 都时固定长度 64位与32位。但平常不会将64位全部占满，其实有效存储数据的可能只有低位的几个bit。高位都是0，导致数据浪费。

那么，我们完全可以算出当前数组最大的数据占用的bit数，将这些数据使用我们指定的bit位数存储，达到压缩的效果。



如下图：

![PackedInts数据压缩.svg](PackedInts数据压缩.svg)

我们如果直接使用int 存储数组 {1,2,3} 则如上图， 需要使用 3个int 存储，及96位bit 存储数据。

其实，这里最大的是 3 ，只占用 2个bit ，其他高位全是0造成空间浪费，这里我们完全可以用2个bit存储一个数据。压缩后如下图：



![PackedInts数据压缩-压缩后](PackedInts数据压缩-压缩后.svg)

这样只需要6个bit将数据存储





# 3 实现与主要方法

//TODO 后续添加